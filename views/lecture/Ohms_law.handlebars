<body>

	{{>lecture/home-nav}}

	<!--Main layout-->
	<main class="mt-3 pt-3">
		<div class="container-fluid">
			<section class="mb-4">
				<!-- Page Heading -->

				<!-- Grid row -->
				<div class="row">

					<!-- Grid column -->
					<div class="col-md-7 mb-3">

						<div>
							<div id='ggb'></div>
						</div>

					</div>
					<!-- Grid column -->

					<!-- Grid column -->
					<div class="col-md-5 mb-3">

						<div>
                        <div id="slide_lecture">
                            <div id="lecture_pg1">
                                <div id="example1"></div>
                                <script src="/pdfjs/pdfobject.js"></script>
                            </div>
                        </div>
                            <!--viewBox = x -2.9000000000000004 x 212.9
                                height = 474.13405405405405
                            -->
                        </div>

                        <div id="slide_circuit">
                        	<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="330" height="374.5945945945946" viewBox="10 0 185 210">
                        		<title>
                        		</title>
                        		<style type="text/css">
                        		#g1 circle.pindot {fill: none;stroke: none;pointer-events: fill;}#g1 rect, #g1 circle, #g1 ellipse, #g1 polyline, #g1 line, #g1 polygon, #g1 path {shape-rendering: crispEdges;}path, polyline, polygon {stroke-linejoin:round;}
                        		path, polyline, polygon, line {stroke-linecap:round;}
                        		rect, circle, ellipse, polyline, line, polygon, path {shape-rendering:crispEdges;}

                        		/* disable highlighting*/
                        		text {
                        			-webkit-user-select: none;  /* Chrome all / Safari all */
                        			-moz-user-select: none;     /* Firefox all */
                        			-ms-user-select: none;      /* IE 10+ */
                        			user-select: none;          /* Likely future */      
                        		}

                        	</style>

                        	<rect id="background" x="10" y="0" width="185" height="210" fill="#FFFFFF" stroke="none"/>
                        	<g id="g1" c_spiceCmd="null" c_para="Prefix Start`1`" importFlag="0" c_portOfADImportHack="" c_transformList="" xmlns="http://www.w3.org/2000/svg">
                        		<g c_origin="50,105" c_para="package`BATTERY-1`BOM_Supplier`LCSC`BOM_Manufacturer`Q&amp;J`BOM_Manufacturer Part`BS-2-1`BOM_LCSC`C70376`image`http://image.lceda.cn/szlcsc/C70376.jpg`spicePre`B`BOM_Mounted`Yes`" c_partid="part_import_gge170" id="gge170" c_shapetype="group" c_etype="pinpart" c_rotation="90">
                        			<g c_partid="part_annotation" id="gge172" >
                        				<text id="gge172text" c_note="note_name" x="60" y="117.25" fill="#000080" font-family="Arial" font-size="7pt" font-weight="" font-style="" dominant-baseline="" text-anchor="start"  >5V
                        				</text>
                        			</g>
                        			<g c_partid="part_annotation" id="gge174" >
                        				<text c_note="note_pre" x="60" y="108.25" fill="#000080" font-family="Arial" font-size="7pt" font-weight="" font-style="" dominant-baseline="" text-anchor="start"  >B1
                        				</text>
                        			</g>
                        			<polyline points="42 109 58 109" stroke="#880000" id="gge176" stroke-width="1"   fill="none" stroke-linecap="round" />
                        			<polyline points="46 106 55 106" stroke="#880000" id="gge177" stroke-width="1"   fill="none" stroke-linecap="round" />
                        			<polyline points="42 103 58 103" stroke="#880000" id="gge178" stroke-width="1"   fill="none" stroke-linecap="round" />
                        			<polyline points="46 100 55 100" stroke="#880000" id="gge179" stroke-width="1"   fill="none" stroke-linecap="round" />
                        			<g c_partid="part_pin" c_etype="pinpart"  c_show="show"  c_elec="1" c_spicepin="1" c_origin="50,125" id="gge180" c_rotation="270">
                        				<circle c_pindot="true" class="pindot" cx="50" cy="125" r="2" fill="#4F4F4F" stroke="none" />
                        				<path d="M 50 125 v -15" fill="none" stroke="#000000" stroke-width="1"/>
                        				<text x="53" y="105" font-family="Verdana" font-size="7pt" fill="#000000" text-anchor="start" display="none" transform="rotate(270,53,105)" >1
                        				</text>
                        				<text x="49" y="115" font-family="Verdana" font-size="7pt" fill="#000000" text-anchor="end" display="none" transform="rotate(270,49,115)" >1
                        				</text>
                        				<circle cx="50" cy="113" r="3" stroke="#000000" fill="none" stroke-width="1" display="none" />
                        				<path d="M 53 110 L 50 107 L 47 110" fill="none" stroke="#000000" stroke-width="1"  display="none" />
                        			</g>
                        			<g c_partid="part_pin" c_etype="pinpart"  c_show="show"  c_elec="1" c_spicepin="2" c_origin="50,85" id="gge187" c_rotation="90">
                        				<circle c_pindot="true" class="pindot" cx="50" cy="85" r="2" fill="#4F4F4F" stroke="none" />
                        				<path d="M 50 85 v 14" fill="none" stroke="#000000" stroke-width="1"/>
                        				<text x="53" y="104" font-family="Verdana" font-size="7pt" fill="#000000" text-anchor="end" display="none" transform="rotate(270,53,104)" >2
                        				</text>
                        				<text x="49" y="94" font-family="Verdana" font-size="7pt" fill="#000000" text-anchor="start" display="none" transform="rotate(270,49,94)" >2
                        				</text>
                        				<circle cx="50" cy="96" r="3" stroke="#000000" fill="none" stroke-width="1" display="none" />
                        				<path d="M 47 99 L 50 102 L 53 99" fill="none" stroke="#000000" stroke-width="1"  display="none" />
                        			</g>
                        		</g>
                        		<g c_origin="145,105" c_para="package`AXIAL-0.3`nameAlias`Value(&#x3a9;)`BOM_Manufacturer Part`?`spicePre`R`spiceSymbolName`Res_AXIAL-0.3(1/8W)_US`" c_partid="part_import_gge194" id="gge194" c_shapetype="group" c_etype="pinpart" c_rotation="90">
                        			<g c_partid="part_annotation" id="gge196" >
                        				<text id="gge196text" c_note="note_name" x="152" y="117.1875" fill="#000080" font-family="Arial" font-size="7pt" font-weight="" font-style="" dominant-baseline="" text-anchor="start"  >1k
                        				</text>
                        			</g>
                        			<g c_partid="part_annotation" id="gge198" >
                        				<text c_note="note_pre" x="152.0078125" y="108.2109375" fill="#000080" font-family="Arial" font-size="7pt" font-weight="" font-style="" dominant-baseline="" text-anchor="start"  >R1
                        				</text>
                        			</g>
                        			<polyline points="145 90 150 93" stroke="#A00000" id="gge200" stroke-width="1"   fill="none" stroke-linecap="round" />
                        			<polyline points="140 98 150 103" stroke="#A00000" id="gge201" stroke-width="1"   fill="none" stroke-linecap="round" />
                        			<polyline points="150 93 140 98" stroke="#A00000" id="gge202" stroke-width="1"   fill="none" stroke-linecap="round" />
                        			<g c_partid="part_pin" c_etype="pinpart"  c_show="show"  c_elec="0" c_spicepin="2" c_origin="145,85" id="gge203" c_rotation="90">
                        				<circle c_pindot="true" class="pindot" cx="145" cy="85" r="2" fill="#4F4F4F" stroke="none" />
                        				<path d="M 145 85 v 5" fill="none" stroke="#800" stroke-width="1"/>
                        				<text x="145" y="94" font-family="Verdana" font-size="7pt" fill="#800" text-anchor="end" display="none" transform="rotate(270,145,94)" >2
                        				</text>
                        				<text x="141" y="86" font-family="Verdana" font-size="7pt" fill="#800" text-anchor="start" display="none" transform="rotate(270,141,86)" >2
                        				</text>
                        				<circle cx="145" cy="87" r="3" stroke="#800" fill="none" stroke-width="1" display="none" />
                        				<path d="M 142 90 L 145 93 L 148 90" fill="none" stroke="#800" stroke-width="1"  display="none" />
                        			</g>
                        			<polyline points="150 112 140 117" stroke="#A00000" id="gge210" stroke-width="1"   fill="none" stroke-linecap="round" />
                        			<polyline points="150 103 140 107" stroke="#A00000" id="gge211" stroke-width="1"   fill="none" stroke-linecap="round" />
                        			<polyline points="140 107 150 112" stroke="#A00000" id="gge212" stroke-width="1"   fill="none" stroke-linecap="round" />
                        			<polyline points="140 117 145 120" stroke="#A00000" id="gge213" stroke-width="1"   fill="none" stroke-linecap="round" />
                        			<g c_partid="part_pin" c_etype="pinpart"  c_show="show"  c_elec="0" c_spicepin="1" c_origin="145,125" id="gge214" c_rotation="270">
                        				<circle c_pindot="true" class="pindot" cx="145" cy="125" r="2" fill="#4F4F4F" stroke="none" />
                        				<path d="M 145 125 v -5" fill="none" stroke="#800" stroke-width="1"/>
                        				<text x="145" y="116" font-family="Verdana" font-size="7pt" fill="#800" text-anchor="start" display="none" transform="rotate(270,145,116)" >1
                        				</text>
                        				<text x="141" y="124" font-family="Verdana" font-size="7pt" fill="#800" text-anchor="end" display="none" transform="rotate(270,141,124)" >1
                        				</text>
                        				<circle cx="145" cy="123" r="3" stroke="#800" fill="none" stroke-width="1" display="none" />
                        				<path d="M 148 120 L 145 117 L 142 120" fill="none" stroke="#800" stroke-width="1"  display="none" />
                        			</g>
                        		</g>
                        		<polyline c_etype="wire" c_shapetype="line" points="50 85 50 35 145 35 145 85" stroke="#008800" id="gge221" stroke-width="1"   fill="none" stroke-linecap="round" />
                        		<polyline c_etype="wire" c_shapetype="line" points="145 125 145 175 50 175 50 125" stroke="#008800" id="gge224" stroke-width="1"   fill="none" stroke-linecap="round" />

                        	</g>

                        	<rect id="gge229" x="20" y="10"   width="165" height="190" stroke="none" stroke-width="1" fill="#FFFFFF" fill-opacity="0.0" c_shapetype="line"  />

<script type="text/javascript">
	// <![CDATA[
	// TODO: better mechanism, refer to: RC_Circuit.html
	const background = document.getElementById('background');
	const gge229 = document.getElementById('gge229');
	const voltage = document.getElementById('gge172text');
	const resistor = document.getElementById('gge196text');

	const LECTURE = 0;
	const PLAYGROUND = 1;
	var mode = LECTURE;

	var component = 0; // 0: nothing, 1: battery, 2: resistor
	var y0;
	var y = 1;

	var rect = gge229.getBoundingClientRect();
	// const svg = document.querySelector('svg').getBoundingClientRect();
	var rectCenterX = (rect.left + rect.right) / 2;
	// console.log(rect.top + ',' + rect.bottom);
	// console.log(rect.left + ", " + rect.right + ", " + rectCenterX);

	function setupCircuit() {
		// break if "Playground" mode is not selected
		if (mode === LECTURE)
			return;
		// console.log("setupCircuit()");
		rect = gge229.getBoundingClientRect();
		rectCenterX = (rect.left + rect.right) / 2;
	}

	window.onmousedown = function(e) {
		// console.log(e.clientX + ", " + e.clientY);
	    // TODO: make it work on all types of screen
	    // if (e.clientX >= 450 && e.clientX <= 520 && e.clientY >= 250 && e.clientY <= 320) {
    	if (e.clientX > rect.left && e.clientX < rectCenterX && e.clientY > rect.top && e.clientY < rect.bottom) {
    		component = 1;
    		y0 = e.clientY;
    	}
			// console.log('battery');
		// } else if (e.clientX >= 640 && e.clientX <= 700 && e.clientY >= 250 && e.clientY <= 320) {
		else if (e.clientX > rectCenterX && e.clientX < rect.right && e.clientY > rect.top && e.clientY < rect.bottom) {
			component = 2;
			y0 = e.clientY;
			// console.log('resistor');
		}
	};

	// TODO: prevent mousemove outside gge229 bug
	window.onmousemove = function(e) {
		//alert(inResistorRange(e.clientX, e.clientY));
		//console.log(e.clientX + ', ' + e.clientY);
		deltaY = y0 - e.clientY;
		// TODO: voltage can have 0.5V, key in values?
		// y = y < 1 ? 1 : y;
		// console.log(y);

		if (component === 1) {
			y += deltaY;
			y = y > 80 ? 80 : y;
			y = y < 0 ? 0.5 : y;
	        // y /= 10;
	        voltage.textContent = y + 'V';
	        document.getElementById("Vol").value = y;
	    } else if (component === 2) {
			// TODO: different suffix
			y += (deltaY /= 100);
			y = y > 50 ? 50 : y;
			y = y < 1 ? 1 : y;
			resistor.textContent = Math.round(y) + 'k';
			document.getElementById("Res").value = Math.round(y);
		}
	};

	window.onmouseup = function() {
		component = 0;
	};

	window.onresize = setupCircuit;
	window.onscroll = setupCircuit;

	// ]]>
</script>
Sorry, your browser does not support SVG.
</svg>
</div>

<!-- tab nav -->
<ul class="nav nav-pills" role="tablist">
    <!-- TODO: add .active to the <a> for the selected tab -->
  <li class="nav-item">
    <a id="lecture-btn" class="nav-link active" href="#" data-toggle="pill">Lecture</a>
  </li>
  <li class="nav-item">
    <a id="playground-btn" class="nav-link" href="#" data-toggle="pill">Playground</a>
  </li>
    <!-- TODO: figure out a better id since this is not button -->
    <!-- Button -->
    <a href="#" id="prev-btn" class="nav-item nav-link float-right">PREV</a>
    <!-- Button -->
    <a href="#" id="next-btn" class="nav-item nav-link float-right">NEXT</a>
</ul>

<!-- Javascript for lecture slide navigation -->
<script type="text/javascript">
    var pagination = 1;
    var options = {
        height: "380px",
        pdfOpenParams: {
            page: pagination,
            toolbar :0,
            statusbar:0,
            navpanes:0,
            messages:0,
            scrollbar:0,
            HideWindowUI:1,
        },
        width:"500px"
    }
    PDFObject.embed("/lecture/{{filename}}", "#example1", options);
    // TODO: prevent the blinking, (ie Make the transition between page smoother)
    $('#next-btn').click(()=>{
    	// TODO: pagination upper bound check
        pagination++;
        options.pdfOpenParams.page = pagination;
        PDFObject.embed("/lecture/{{filename}}", "#example1", options);
    });
    $('#prev-btn').click(()=>{
    	if (pagination === 1) {
    		return;
    	} else {
            pagination--;
            options.pdfOpenParams.page = pagination;
            PDFObject.embed("/lecture/{{filename}}", "#example1", options);
    	}
    });
</script>

</div>

</div>
<!-- Grid column -->

</div>
<!-- Grid row -->
</section>

<section class="mb-4">
	<!-- Grid row -->
	<div class="row">

		<div class="col-md-1"></div>

		<!-- Grid column -->
		<div class="col-md-6 mb-3">

			<div class="view overlay z-depth-1-half">
				<!-- <h4>Sliders</h4> -->
				<!-- TODO: better id instead of "Vol", "Res" and "Cur" -->
				<form class="form-horizontal">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text bg-primary text-white" id="basic-addon1">Voltage</span>
						</div>
						<input id="Vol" type="text" class="form-control" placeholder="5" aria-label="Username" aria-describedby="basic-addon1">
						<div class="input-group-append">
							<span class="input-group-text">V</span>
						</div>
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text bg-primary text-white" id="basic-addon2">Resistance</span>
						</div>
						<input id="Res" type="text" class="form-control" placeholder="1" aria-label="Username" aria-describedby="basic-addon1">
						<div class="input-group-append">
							<span class="input-group-text">k&#8486;</span>
						</div>
					</div>	
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text bg-primary text-white" id="basic-addon3">Current</span>
						</div>
						<input id="Cur" type="text" class="form-control" placeholder="0.0050" aria-label="Username" aria-describedby="basic-addon1">
						<div class="input-group-append">
							<span class="input-group-text">A</span>
						</div>
					</div>
				</form>
<!-- 				Voltage:<input id="Vol" type="number" value="0" min="0" max="100" />
				Resistance:<input id="Res" type="number" value="0" min="0" max="100" />
				<p>Current: <input id="testing" type="number" value="0" min="0" max="100" /></p> -->
				<script type="text/javascript" src ="/js/lecture/ohms_law.js"></script>
			</div>

		</div>
		<!-- Grid column -->

		<div class="col-md-1"></div>

		<!-- Grid column -->
		<div class="col-md-4 mb-3">

			<div class="view overlay z-depth-1-half">
				<div class="jumbotron">
					<p class="lead">Reserved for further contents</p>
				</div>
				<div style="display: none">
					<h4>Buttons</h4>
					<button id="my-element" class="btn btn-primary" type="button">Lecture</button>
					<button id="my-other-element" class="btn btn-primary" type="button">Playground</button>
					<button class="btn btn-primary" type="button">Prev</button>
					<button class="btn btn-primary" type="button">Next</button>
				</div>
			</div>

		</div>
		<!-- Grid column -->

	</div>
	<!-- Grid row -->
</section>


<!--bookmark-->


<!--Section: Jumbotron-->
<section class="card wow fadeIn collapse" style="display: none; background-image: url(https://mdbootstrap.com/img/Photos/Others/background2.jpg);">

	<!-- Content -->
	<div class="card-body text-white text-center py-5 px-5 my-5">

		<h1 class="mb-4">
			<strong>Random Jumbotron to <br />fill up screen space for now</strong>
		</h1>

		<a target="_blank" href="#" class="btn btn-outline-white btn-lg">Linked to this website
			<i class="fa fa-graduation-cap ml-2"></i>
		</a>

	</div>
	<!-- Content -->
</section>
<!--Section: Jumbotron-->

</div>
</main>
<!--Main layout-->
